(this["webpackJsonpstudy-cards"]=this["webpackJsonpstudy-cards"]||[]).push([[0],{102:function(e,t,a){e.exports=a(133)},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},113:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),o=a.n(l),c=(a(107),a(108),a(27)),i=a(11);var s=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Registration Page"))},u=a(58),m=a(60),d=a.n(m);function p(e){var t=e.onChange,a=e.onEnterPress,n=e.value,l=e.error,o=e.placeholder,c=e.onBlur;return r.a.createElement("div",{className:d.a.group},r.a.createElement("input",{autoFocus:!0,onBlur:c,style:l?{color:"red"}:{},value:n,onKeyPress:function(e){13===e.charCode&&a&&a(e.currentTarget.value)},placeholder:o,type:"text",onChange:function(e){return t(e.currentTarget.value)}}),r.a.createElement("span",{className:d.a.bar}))}a(109);function E(e){var t=e.onClick,a=e.text,n=e.disabled;return r.a.createElement("div",null,r.a.createElement("button",{disabled:n,className:"btn paper paper-raise-flatten",onClick:t},a))}var f=a(13);a(113);function g(){return r.a.createElement("div",{className:"cssload-loader"},r.a.createElement("div",{className:"cssload-inner cssload-one"}),r.a.createElement("div",{className:"cssload-inner cssload-two"}),r.a.createElement("div",{className:"cssload-inner cssload-three"}))}var h=a(14),b=a(50),v=a.n(b),w=v.a.create({baseURL:"https://neko-back.herokuapp.com/2.0"}),_=function(e){return w.post("/auth/forgot",e)},O=function(e){return w.post("/auth/set-new-password",e)},S={loading:!1,response:null},N=function(e){return{type:"LOADING",loading:e}};var j=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.passwordResetPage.loading})),a=Object(n.useState)(""),l=Object(u.a)(a,2),o=l[0],c=l[1];return t?r.a.createElement(g,null):r.a.createElement("div",null,r.a.createElement("h1",null,"Password Reset Page"),r.a.createElement("div",null,"Email for reset:"),r.a.createElement(p,{onChange:function(e){return c(e)},error:!1,value:o,placeholder:"Please set email"}),r.a.createElement(E,{onClick:function(){e(function(e){return function(t){t(N(!0)),_({email:e,from:"test-front-admin",message:"<div style = \"background-color: lime; padding: 15px\">\n            password recovery link:\n    <a href='http://localhost:3000/study-cards#/password-generation/$token$'>link</a>\n    </div>"}).then((function(e){200===e.status&&(t({type:"SET-PASS-RESET-RESPONSE",response:e.data}),t(N(!1)),alert(e.data.info))})).catch((function(e){alert(e),t(N(!1))}))}}(o)),c("")},text:"Reset password"}))};var P=function(){return r.a.createElement(j,null)},I={loading:!1,response:null};var y=function(){var e=Object(i.i)().id,t=Object(i.g)(),a=Object(f.b)(),l=Object(f.c)((function(e){return e.passwordGenerationPage})),o=Object(n.useState)(""),c=Object(u.a)(o,2),s=c[0],m=c[1];return l.loading?r.a.createElement(g,null):r.a.createElement("div",null,r.a.createElement("h1",null,"Password Generation Page"),r.a.createElement("h3",null,"Change password:"),r.a.createElement("h4",null,"Please enter your new password."),r.a.createElement(p,{onChange:function(e){return m(e)},error:!1,value:s,placeholder:"Please set new password"}),r.a.createElement(E,{onClick:function(){a(function(e,t){return function(a){a(N(!0)),O(e).then((function(e){200===e.status&&(a({type:"SET-PASS-GENERATION-RESPONSE",response:e.data}),a(N(!1)),alert(e.data.info),t.push("/login/"))})).catch((function(e){alert(e),a(N(!1))}))}}({password:s,resetPasswordToken:e},t)),m("")},text:"Set new password"}))};var T=function(){return r.a.createElement(y,null)},k=v.a.create(Object(h.a)({baseURL:"http://localhost:7542/2.0/"},{withCredentials:!0})),A=function(e){return k.post("auth/login",e)},R=function(){return k.delete("auth/me")},x=function(){return k.post("auth/me",{})},C={},L=function(e){return{type:"APP/SET-ERROR",error:e}},D=function(e,t){t(L(e.response?e.response.data.error:e.message)),t({type:"APP/SET-STATUS",status:"failed"})},U={isLoginIn:!1,UserData:{_id:"0",email:"",name:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1,error:""}},G=function(e){return{type:"SET-IS-LOGIN-IN",value:e}},W=function(e){return{type:"SET-USER-DATA-IN",Userdata:e}},F={isInitialized:!1},z=a(172);var M=function(){var e=Object(f.c)((function(e){return e.auth.UserData})),t=e.name,a=e.avatar,l=e.email,o=Object(f.c)((function(e){return e.profilePage.isInitialized})),c=Object(f.b)(),s=Object(f.c)((function(e){return e.auth.isLoginIn}));return Object(n.useEffect)((function(){c((function(e){x().then((function(t){e(G(!0)),e({type:"SET-INITIALIZED",isInitialized:!0}),e(W(t.data))})).catch((function(e){return console.log(e)}))}))}),[]),!1===s?r.a.createElement(i.a,{exact:!0,to:"/login"}):o?r.a.createElement("div",null,r.a.createElement("h1",null,"Name:",t),r.a.createElement("img",{src:a,alt:"",style:{width:"100px",height:"100px"}}),r.a.createElement("div",null,"E-mail: ",l)):r.a.createElement("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"}},r.a.createElement(z.a,null))},B=a(24),J=a.n(B);var Z=function(){var e=Object(i.h)(),t=Object(f.b)(),a=Object(n.useCallback)((function(){t((function(e){R().then((function(t){e(G(!1))})).catch((function(t){D(t,e)}))}))}),[]),l=Object(f.c)((function(e){return e.auth.isLoginIn}));return!1===l&&57!==e.pathname.length?r.a.createElement(i.a,{exact:!0,to:"/login"}):r.a.createElement("nav",{className:J.a.menu},r.a.createElement("ul",{className:J.a.menu__list},l&&r.a.createElement("li",{className:J.a.menu__group},r.a.createElement("button",{onClick:a,className:J.a.menu__link_logout},"Log out")),r.a.createElement("li",{className:J.a.menu__group},r.a.createElement(c.b,{className:J.a.menu__link,to:"/registration"},"registration")),r.a.createElement("li",{className:J.a.menu__group},r.a.createElement(c.b,{className:J.a.menu__link,to:"/password-reset"},"password reset")),r.a.createElement("li",{className:J.a.menu__group},r.a.createElement(c.b,{className:J.a.menu__link,to:"/password-generation"},"password generation")),r.a.createElement("li",{className:J.a.menu__group},r.a.createElement(c.b,{className:J.a.menu__link,to:"/profile"},"profile"))))},$=a(190),q=a(182),K=a(180),V=a(184),Y=a(181),H=a(187),Q=a(177),X=a(183),ee=a(185),te=a(88),ae=a(178),ne=a(179),re=a(86),le=a(189),oe=a(186);function ce(e){return r.a.createElement(oe.a,Object.assign({elevation:6,variant:"filled"},e))}function ie(){var e=Object(f.c)((function(e){return e.app.error})),t=Object(f.b)(),a=function(e,a){"clickaway"!==a&&t(L(null))},n=!!e;return r.a.createElement(le.a,{open:n,autoHideDuration:6e3,onClose:a},r.a.createElement(ce,{onClose:a,severity:"error"},e))}function se(){return r.a.createElement(te.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(Q.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var ue=Object(ae.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function me(){var e=ue(),t=Object(f.b)(),a=Object(f.c)((function(e){return e.auth.isLoginIn})),n=Object(re.a)({validate:function(e){return e.email?e.password?void 0:{password:"Please enter your password"}:{email:"Please enter your email"}},initialValues:{email:"",password:"",rememberMe:!1,verified:!1},onSubmit:function(e){var a;t((a=e,function(e){A(a).then((function(t){e(G(!0)),e(W(t.data))})).catch((function(t){D(t,e)}))}))}});return!0===a?r.a.createElement(i.a,{to:"/profile"}):r.a.createElement(ne.a,{component:"main",maxWidth:"xs"},r.a.createElement(K.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement($.a,{className:e.avatar}),r.a.createElement(te.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement(V.a,Object.assign({variant:"outlined",required:!0,fullWidth:!0,id:"email",name:"email",autoComplete:"email",autoFocus:!0,label:"Email",margin:"normal"},n.getFieldProps("email"))),n.errors.email?r.a.createElement("div",null,n.errors.email):null,r.a.createElement(V.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",id:"password",type:"password"},n.getFieldProps("password"))),n.errors.password?r.a.createElement("div",null,n.errors.password):null,r.a.createElement(Y.a,Object.assign({label:"Remember me",control:r.a.createElement(H.a,{color:"primary"})},n.getFieldProps("rememberMe"),{checked:n.values.rememberMe})),r.a.createElement(q.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),r.a.createElement(X.a,{container:!0},r.a.createElement(X.a,{item:!0,xs:!0},r.a.createElement(c.b,{to:"/password-reset"},"Forgot password?")),r.a.createElement(X.a,{item:!0},r.a.createElement(c.b,{to:"/registration"},"Don't have an account? Sign Up"))))),r.a.createElement(ee.a,{mt:8},r.a.createElement(se,null)),r.a.createElement(ie,null))}var de=function(){return r.a.createElement(me,null)};var pe=function(){return r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Z,null),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/login",render:function(){return r.a.createElement(de,null)}}),r.a.createElement(i.b,{path:"/registration",render:function(){return r.a.createElement(s,null)}}),r.a.createElement(i.b,{path:"/password-reset",render:function(){return r.a.createElement(P,null)}}),"}",r.a.createElement(i.b,{path:"/password-generation/:id",render:function(){return r.a.createElement(T,null)}}),r.a.createElement(i.b,{path:"/password-generation/",render:function(){return r.a.createElement("h1",null,"We send to your mail link for password change. Use it!")}}),r.a.createElement(i.b,{path:"/profile",render:function(){return r.a.createElement(M,null)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=a(41),fe=a(84),ge=a(85),he=Object(Ee.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(h.a)({},e,{status:t.status});case"APP/SET-ERROR":return Object(h.a)({},e,{error:t.error});case"APP/SET-INITIALIZED":return Object(h.a)({},e,{isInitialized:t.isInitialized});default:return Object(h.a)({},e)}},registrationPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type,Object(ge.a)({},e)},passwordResetPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(h.a)({},e,{loading:t.loading});case"SET-PASS-RESET-RESPONSE":return Object(h.a)({},e,{response:t.response});default:return Object(h.a)({},e)}},passwordGenerationPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":return Object(h.a)({},e,{loading:t.loading});case"SET-PASS-GENERATION-RESPONSE":return Object(h.a)({},e,{response:t.response});default:return Object(h.a)({},e)}},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-INITIALIZED":return Object(h.a)({},e,{isInitialized:t.isInitialized});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-IS-LOGIN-IN":case"SET-IS-LOGOUT-IN":return Object(h.a)({},e,{isLoginIn:t.value});case"SET-USER-DATA-IN":return Object(h.a)({},e,{UserData:t.Userdata});default:return e}}}),be=Object(Ee.d)(he,Object(Ee.a)(fe.a));window.store=be,o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f.a,{store:be},r.a.createElement(pe,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,a){e.exports={menu:"headerNavbar_menu__1T5wg",menu__link:"headerNavbar_menu__link__1JKf_",menu__link_logout:"headerNavbar_menu__link_logout__2TVLw",menu__list:"headerNavbar_menu__list__2PUd2",menu__group:"headerNavbar_menu__group__3nCIy",page:"headerNavbar_page__1a2cw"}},60:function(e,t,a){e.exports={group:"input_group__3Gv8x",bar:"input_bar__W2-9W"}}},[[102,1,2]]]);
//# sourceMappingURL=main.cc10d66e.chunk.js.map