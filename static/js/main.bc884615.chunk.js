(this["webpackJsonpstudy-cards"]=this["webpackJsonpstudy-cards"]||[]).push([[0],{107:function(e,a,t){e.exports=t(137)},112:function(e,a,t){},113:function(e,a,t){},136:function(e,a,t){},137:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),i=t.n(l),o=(t(112),t(113),t(27)),c=t(12),s=t(20),u=t.n(s),m=t(10),d=t(34),p=t(11),E={},g=function(e){return{type:"APP/SET-ERROR",error:e}},f=function(e,a){a(g(e.response?e.response.data.error:e.message)),a({type:"APP/SET-STATUS",status:"failed"})},b=t(42),h=t.n(b),v=h.a.create(Object(p.a)({baseURL:"http://localhost:7542/2.0/"},{withCredentials:!0})),_=function(e){return v.post("auth/register",e)},w={isRegistered:!1,isLoading:!1},N=function(e){return{type:"SET-IS-REGISTRATED",value:e}},O=function(e){return{type:"SET-IS-LOADING",value:e}};var S=function(){var e=Object(m.b)(),a=Object(m.c)((function(e){return e.registrationPage.isRegistered})),t=Object(m.c)((function(e){return e.registrationPage.isLoading})),n=Object(m.c)((function(e){return e.app.error})),l=Object(d.a)({validate:function(e){return e.email?e.password?void 0:{password:"Please enter your password"}:{email:"Please enter your email"}},initialValues:{email:"",password:""},onSubmit:function(a){var t={email:a.email,password:a.password};e(O(!0)),e(function(e){return function(a){_(e).then((function(e){a(N(!0)),a(O(!1))})).catch((function(e){a(O(!1)),f(e,a),setTimeout((function(){return a(g(null))}),3e3)}))}}(t))}});return!0===a?r.a.createElement(c.a,{to:"/login"}):r.a.createElement("div",{className:u.a.registerPage},r.a.createElement("div",{className:u.a.contentContainer},r.a.createElement("div",{className:u.a.Container},r.a.createElement("div",{className:u.a.title},r.a.createElement("h1",null,"Registration Page")),r.a.createElement("form",{onSubmit:l.handleSubmit},r.a.createElement("div",{className:u.a.formgroup},r.a.createElement("input",{className:u.a.formValue,id:"email",name:"email",type:"text",placeholder:"Enter your Email",onChange:l.handleChange,value:l.values.email}),r.a.createElement("label",{htmlFor:"email"},"Email")),r.a.createElement("div",{className:u.a.formgroup},r.a.createElement("input",{className:u.a.formValue,id:"password",name:"password",type:"password",placeholder:"Enter your password",onChange:l.handleChange,value:l.values.password}),r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("button",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),!0===t?r.a.createElement("div",{className:u.a.preloader},r.a.createElement("div",{className:u.a.preloader__image_animate})):r.a.createElement("span",null),l.errors.password?r.a.createElement("div",{className:u.a.errorMessage},r.a.createElement("div",{className:u.a.errorText},"Password",r.a.createElement("br",null)," incorrect")):null,l.errors.email?r.a.createElement("div",{className:u.a.errorMessage},r.a.createElement("div",{className:u.a.errorText},"Email",r.a.createElement("br",null)," incorrect")):null,n?r.a.createElement("div",{className:u.a.errorMessage},r.a.createElement("div",{className:u.a.errorText},n)):null))))};var y=function(){return r.a.createElement(S,null)},j=t(187),I=t(177),T=t(176),P=t(181),k=t(173),x=t(182),R=t(94),A=t(174),C=t(175),L=t(186),D=t(183);function W(e){return r.a.createElement(D.a,Object.assign({elevation:6,variant:"filled"},e))}function U(){var e=Object(m.c)((function(e){return e.app.error})),a=Object(m.b)(),t=function(e,t){"clickaway"!==t&&a(g(null))},n=!!e;return r.a.createElement(L.a,{open:n,autoHideDuration:6e3,onClose:t},r.a.createElement(W,{onClose:t,severity:"error"},e))}t(136);function F(){return r.a.createElement("div",{className:"cssload-loader"},r.a.createElement("div",{className:"cssload-inner cssload-one"}),r.a.createElement("div",{className:"cssload-inner cssload-two"}),r.a.createElement("div",{className:"cssload-inner cssload-three"}))}var G=h.a.create({baseURL:"https://neko-back.herokuapp.com/2.0"}),M=function(e){return G.post("/auth/forgot",e)},V=function(e){return G.post("/auth/set-new-password",e)},Y={loading:!1,response:null},z=function(e){return{type:"LOADING",loading:e}};function q(){return r.a.createElement(R.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(k.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var B=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function J(){var e=B(),a=Object(m.b)(),t=Object(m.c)((function(e){return e.passwordResetPage.loading})),n=Object(d.a)({validate:function(e){if(!e.email)return{email:"Please enter your new email"}},initialValues:{email:""},onSubmit:function(e){var t;a((t=e.email,function(e){e(z(!0)),M({email:t,from:"test-front-admin",message:"<div style = \"background-color: lime; padding: 15px\">\n            password recovery link:\n    <a href='http://localhost:3000/study-cards#/password-generation/$token$'>link</a>\n    </div>"}).then((function(a){200===a.status&&(e({type:"SET-PASS-RESET-RESPONSE",response:a.data}),e(z(!1)),alert(a.data.info))})).catch((function(a){alert(a),e(z(!1))}))}))}});return t?r.a.createElement(F,null):r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(T.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(j.a,{className:e.avatar}),r.a.createElement(R.a,{component:"h1",variant:"h5"},"Email for password recovery"),r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement(P.a,Object.assign({variant:"outlined",required:!0,fullWidth:!0,id:"email",name:"email",autoComplete:"email",autoFocus:!0,label:"Email",margin:"normal"},n.getFieldProps("email"))),n.errors.email?r.a.createElement("div",null,n.errors.email):null,r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Send"))),r.a.createElement(x.a,{mt:8},r.a.createElement(q,null)),r.a.createElement(U,null))}var H=function(){return r.a.createElement(J,null)},Z={loading:!1,response:null};function $(){return r.a.createElement(R.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(k.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var K=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function X(){var e=Object(m.c)((function(e){return e.passwordGenerationPage})),a=K(),t=Object(c.i)().id,n=Object(c.g)(),l=Object(m.b)(),i=Object(d.a)({validate:function(e){if(!e.password)return{password:"Please enter your new password"}},initialValues:{password:""},onSubmit:function(e){l(function(e,a){return function(t){t(z(!0)),V(e).then((function(e){200===e.status&&(t({type:"SET-PASS-GENERATION-RESPONSE",response:e.data}),t(z(!1)),alert(e.data.info),a.push("/login/"))})).catch((function(e){alert(e),t(z(!1))}))}}({password:e.password,resetPasswordToken:t},n))}});return e.loading?r.a.createElement(F,null):r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(T.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(j.a,{className:a.avatar}),r.a.createElement(R.a,{component:"h1",variant:"h5"},"New password"),r.a.createElement("form",{onSubmit:i.handleSubmit},r.a.createElement(P.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"New password",id:"password",type:"password"},i.getFieldProps("password"))),i.errors.password?r.a.createElement("div",null,i.errors.password):null,r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Set new password"))),r.a.createElement(x.a,{mt:8},r.a.createElement($,null)),r.a.createElement(U,null))}var Q=function(){return r.a.createElement(X,null)},ee=h.a.create(Object(p.a)({baseURL:"http://localhost:7542/2.0/"},{withCredentials:!0})),ae=function(e){return ee.post("auth/login",e)},te=function(){return ee.delete("auth/me")},ne=function(){return ee.post("auth/me",{})},re={isLoginIn:!1,UserData:{_id:"0",email:"",name:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1,error:""}},le=function(e){return{type:"SET-IS-LOGIN-IN",value:e}},ie=function(e){return{type:"SET-USER-DATA-IN",Userdata:e}},oe={isInitialized:!1},ce=t(178);var se=function(){var e=Object(m.c)((function(e){return e.auth.UserData})),a=e.name,t=e.avatar,l=e.email,i=Object(m.c)((function(e){return e.profilePage.isInitialized})),o=Object(m.b)(),s=Object(m.c)((function(e){return e.auth.isLoginIn}));return Object(n.useEffect)((function(){o((function(e){ne().then((function(a){e(le(!0)),e({type:"SET-INITIALIZED",isInitialized:!0}),e(ie(a.data))})).catch((function(e){return console.log(e)}))}))}),[]),!1===s?r.a.createElement(c.a,{exact:!0,to:"/login"}):i?r.a.createElement("div",null,r.a.createElement("h1",null,"Name:",a),r.a.createElement("img",{src:t,alt:"",style:{width:"100px",height:"100px"}}),r.a.createElement("div",null,"E-mail: ",l)):r.a.createElement("div",{style:{position:"fixed",top:"30%",textAlign:"center",width:"100%"}},r.a.createElement(ce.a,null))},ue=t(25),me=t.n(ue);var de=function(){var e=Object(c.h)(),a=Object(m.b)(),t=Object(n.useCallback)((function(){a((function(e){te().then((function(a){e(le(!1))})).catch((function(a){f(a,e)}))}))}),[]),l=Object(m.c)((function(e){return e.auth.isLoginIn}));return!1===l&&57!==e.pathname.length?r.a.createElement(c.a,{exact:!0,to:"/login"}):r.a.createElement("nav",{className:me.a.menu},r.a.createElement("ul",{className:me.a.menu__list},l&&r.a.createElement("li",{className:me.a.menu__group},r.a.createElement("button",{onClick:t,className:me.a.menu__link_logout},"Log out")),r.a.createElement("li",{className:me.a.menu__group},r.a.createElement(o.b,{className:me.a.menu__link,to:"/registration"},"registration")),r.a.createElement("li",{className:me.a.menu__group},r.a.createElement(o.b,{className:me.a.menu__link,to:"/password-reset"},"password reset")),r.a.createElement("li",{className:me.a.menu__group},r.a.createElement(o.b,{className:me.a.menu__link,to:"/password-generation"},"password generation")),r.a.createElement("li",{className:me.a.menu__group},r.a.createElement(o.b,{className:me.a.menu__link,to:"/profile"},"profile"))))},pe=t(179),Ee=t(184),ge=t(180);function fe(){return r.a.createElement(R.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(k.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var be=Object(A.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function he(){var e=be(),a=Object(m.b)(),t=Object(m.c)((function(e){return e.auth.isLoginIn})),n=Object(d.a)({validate:function(e){return e.email?e.password?void 0:{password:"Please enter your password"}:{email:"Please enter your email"}},initialValues:{email:"",password:"",rememberMe:!1,verified:!1},onSubmit:function(e){var t;a((t=e,function(e){ae(t).then((function(a){e(le(!0)),e(ie(a.data))})).catch((function(a){f(a,e)}))}))}});return!0===t?r.a.createElement(c.a,{to:"/profile"}):r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(T.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(j.a,{className:e.avatar}),r.a.createElement(R.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement(P.a,Object.assign({variant:"outlined",required:!0,fullWidth:!0,id:"email",name:"email",autoComplete:"email",autoFocus:!0,label:"Email",margin:"normal"},n.getFieldProps("email"))),n.errors.email?r.a.createElement("div",null,n.errors.email):null,r.a.createElement(P.a,Object.assign({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",id:"password",type:"password"},n.getFieldProps("password"))),n.errors.password?r.a.createElement("div",null,n.errors.password):null,r.a.createElement(pe.a,Object.assign({label:"Remember me",control:r.a.createElement(Ee.a,{color:"primary"})},n.getFieldProps("rememberMe"),{checked:n.values.rememberMe})),r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign In"),r.a.createElement(ge.a,{container:!0},r.a.createElement(ge.a,{item:!0,xs:!0},r.a.createElement(o.b,{to:"/password-reset"},"Forgot password?")),r.a.createElement(ge.a,{item:!0},r.a.createElement(o.b,{to:"/registration"},"Don't have an account? Sign Up"))))),r.a.createElement(x.a,{mt:8},r.a.createElement(fe,null)),r.a.createElement(U,null))}var ve=function(){return r.a.createElement(he,null)};var _e=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(de,null),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/login",render:function(){return r.a.createElement(ve,null)}}),r.a.createElement(c.b,{path:"/registration",render:function(){return r.a.createElement(y,null)}}),r.a.createElement(c.b,{path:"/password-reset",render:function(){return r.a.createElement(H,null)}}),"}",r.a.createElement(c.b,{path:"/password-generation/:id",render:function(){return r.a.createElement(Q,null)}}),r.a.createElement(c.b,{path:"/password-generation",render:function(){return r.a.createElement("h1",null,"We send to your mail link for password change. Use it!")}}),r.a.createElement(c.b,{path:"/profile",render:function(){return r.a.createElement(se,null)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var we=t(44),Ne=t(92),Oe=Object(we.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"APP/SET-STATUS":return Object(p.a)({},e,{status:a.status});case"APP/SET-ERROR":return Object(p.a)({},e,{error:a.error});case"APP/SET-INITIALIZED":return Object(p.a)({},e,{isInitialized:a.isInitialized});default:return Object(p.a)({},e)}},registrationPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-IS-REGISTATED":return Object(p.a)({},e,{isRegistered:a.value});case"SET-IS-LOADING":return Object(p.a)({},e,{isLoading:a.value});default:return Object(p.a)({},e)}},passwordResetPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOADING":return Object(p.a)({},e,{loading:a.loading});case"SET-PASS-RESET-RESPONSE":return Object(p.a)({},e,{response:a.response});default:return Object(p.a)({},e)}},passwordGenerationPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOADING":return Object(p.a)({},e,{loading:a.loading});case"SET-PASS-GENERATION-RESPONSE":return Object(p.a)({},e,{response:a.response});default:return Object(p.a)({},e)}},profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-INITIALIZED":return Object(p.a)({},e,{isInitialized:a.isInitialized});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET-IS-LOGIN-IN":case"SET-IS-LOGOUT-IN":return Object(p.a)({},e,{isLoginIn:a.value});case"SET-USER-DATA-IN":return Object(p.a)({},e,{UserData:a.Userdata});default:return e}}}),Se=Object(we.d)(Oe,Object(we.a)(Ne.a));window.store=Se,i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:Se},r.a.createElement(_e,null)),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e,a,t){e.exports={registerPage:"css_registerPage__uyYNX",preloader:"css_preloader__3kW8o",preloader__image_animate:"css_preloader__image_animate__38Wik","up-down":"css_up-down__3tu4p",contentContainer:"css_contentContainer__1wsFb",Container:"css_Container__o3flk",input:"css_input__3GujL",title:"css_title__2v9sB",formgroup:"css_formgroup__3odNB",buttonRegister:"css_buttonRegister__2HfVU",errorMessage:"css_errorMessage__3n8JL",errorText:"css_errorText__2_KYH"}},25:function(e,a,t){e.exports={menu:"headerNavbar_menu__1T5wg",menu__link:"headerNavbar_menu__link__1JKf_",menu__link_logout:"headerNavbar_menu__link_logout__2TVLw",menu__list:"headerNavbar_menu__list__2PUd2",menu__group:"headerNavbar_menu__group__3nCIy",page:"headerNavbar_page__1a2cw"}}},[[107,1,2]]]);
//# sourceMappingURL=main.bc884615.chunk.js.map